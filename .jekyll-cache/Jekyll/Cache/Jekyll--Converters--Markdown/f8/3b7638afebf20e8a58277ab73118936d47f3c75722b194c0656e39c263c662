I"t-<p>Сайт сопровождает кружок по алгебраической комбинаторике, который я проводил весной 2022 года для младшекурсников-физтехов и любых других сочувствующих слушателей (информация ниже о зачёте неактуальна).</p>

<h2 id="тематика">Тематика</h2>

<p>Вот пример прототипического вопроса систолической геометрии. Пусть у нас есть бублик сколь угодно сложной формы (или крендель, или другая изощрённая выпечка). Можно измерить площадь его поверхности $A$, а можно рассмотреть длину $L$ кратчайшей нестягиваемой петли на его поверхности</p>

<p>Алгебраическая комбинаторика — собирательное название комбинаторных областей, которые либо существенно используют занятные алгебраические сущности, либо сами мотивированы связью с какой-нибудь содержательной
алгеброй (например, системами корней в теории Ли, или когомологиями многообразий флагов). Теорию Ли и многообразия флагов я если и задену, то по касательной. Для меня это не вполне удачное название нужно только лишь для того, чтобы обозначить, что я не буду ничего рассказывать из экстремальной, перечислительной, “венгерской”, полиномиальной или какой бы то ни было ещё другой комбинаторики. Я расскажу несколько сюжетов, в которых в комбинаторных задачах возникают детерминанты и резисторы, диаграммы Юнга и Дынкина, ассоциэдры и пермутоэдры, замощения доминошками и параллелепипедами, страты положительного грассманиана и кластерные алгебры. Я рассчитываю, что моё изложение по большей части будет доступно первокурсникам.</p>

<p><strong>Лекции</strong>. Они проходят по пятницам в 18:35. Вводная (необязательная для понимания дальнейшего) лекция пройдёт 11 февраля вживую в аудитории 5.18 в корпусе Цифра. Начиная с 18 февраля, лекции будут проходить в <a href="https://theias.zoom.us/j/89395086714">зуме</a>.</p>

<p><strong>Коммуникация</strong>. У курса есть сопроводительный <a href="https://t.me/+55wKFd6oqJ1iOTBi">телеграм-чат</a>, в котором можно обсуждать задачки с товарищами. Я всячески приветствую обратную связь и готов корректировать темы в зависимости от пожеланий слушателей. Не стесняйтесь писать мне по любым вопросам на <a href="mailto:aleksei.balitskii@phystech.edu">почту</a> или оставлять анонимные комментарии в <a href="https://forms.gle/JcWcTzrAeCxauHw1A">гугл-форме</a>.</p>

<p><strong>Зачёт</strong>. Желающие могут получить (дифференцированный) зачёт по курсу. Для этого нужно присылать мне на почту (в любом виде) решения задач, которые будут публиковаться параллельно с лекциями. Для оценки ‘отл 10’ будет достаточно решить около половины из них. Официально в зачётку будет проставляться зачёт под зонтичным названием “Избранные вопросы алгебры и теории чисел”.</p>

<h2 id="программа">—Программа—</h2>
<ul>
  <li>Электрические сопротивления в комбинаторике</li>
  <li>Лемма Линдстрёма, разрезания на доминошки и диаграммы Юнга</li>
  <li>Теорема Монского о разрезании</li>
  <li>Группы Коксетера и камеры Вейля</li>
  <li>Пермутоэдр</li>
  <li>Разрезания графических зонотопов и матричная теорема Кирхгофа</li>
  <li>Плабики (планарные двуцветные графы) Постникова</li>
  <li>Сечения циклического зонотопа по Галашину</li>
  <li>Высшие порядки Брюа и флиповые соотношения</li>
</ul>

<h2 id="cсылки">—Cсылки—</h2>
<ul>
  <li>R. Brooks, C. Smith, A. Stone, W. Tutte, <a href="https://carlo-hamalainen.net/stuff/Brooks,%20Smith,%20Stone,%20Tutte%20-%20The%20dissection%20of%20rectangles%20into%20squares%20(1940).pdf">The dissection of rectangles into squares</a>. <em>Duke Mathematical Journal</em> (1940).</li>
  <li>Е. Смирнов, <a href="https://users.mccme.ru/smirnoff/papers/dubna14.pdf">Диаграммы Юнга, плоские разбиения и знакочередующиеся матрицы</a>. <em>МЦНМО</em> (2014).</li>
  <li>Е. Смирнов, <a href="https://www.mccme.ru/free-books/dubna/smirnov-aztec.pdf">Три взгляда на ацтекский бриллиант</a>, <em>МЦНМО</em> (2015).</li>
  <li>P. Monsky, <a href="https://www.jstor.org/stable/pdf/2317329.pdf">On dividing a square into triangles</a>. <em>The American Mathematical Monthly</em> (1970).</li>
  <li>J. Humphreys, <a href="books.google.ru/books?id=ODfjmOeNLMUC">Reflection groups and Coxeter groups</a>. <em>Cambridge university press</em> (1990).</li>
  <li>J. Stasheff, <a href="https://www.ams.org/tran/1963-108-02/S0002-9947-1963-99939-9/S0002-9947-1963-99939-9.pdf">Homotopy associativity of H-spaces, I</a>. <em>Transactions of the American Mathematical Society</em> (1963).</li>
  <li>A. Postnikov, <a href="https://academic.oup.com/imrn/article-pdf/2009/6/1026/18937162/rnn153.pdf">Permutohedra, associahedra, and beyond</a>. <em>International Mathematics Research Notices</em> (2009).</li>
  <li>A. Postnikov, <a href="https://arxiv.org/pdf/math/0609764">Total positivity, Grassmannians, and networks</a>. <em>ArXiv preprint</em> (2006).</li>
  <li>P. Galashin, <a href="https://londmathsoc.onlinelibrary.wiley.com/doi/abs/10.1112/plms.12139">Plabic graphs and zonotopal tilings</a>. <em>Proceedings of the London Mathematical Society</em> (2018).</li>
  <li>G. Ziegler, <a href="https://opus4.kobv.de/opus4-zib/files/60/SC-91-10.pdf">Higher Bruhat orders and cyclic hyperplane arrangements</a>. <em>Topology</em> (1993).</li>
</ul>

<p>$\sum_i x_i = 1$</p>

\[\sum_i x_i = 1\]

<h2 id="тезисы">—Тезисы—</h2>

<p><em>Пермутоэдром</em> \(P_{n-1}\) называется многогранник в \(\{(x_1, \ldots, x_n) \in \mathbb{R}^{n} ~\vert~ \sum x_i = n(n-1)/2\} \cong \mathbb{R}^{n-1}\), заданный как</p>
<ul>
  <li>выпуклая оболочка точек, получаемых из \((0,1,\ldots,n-1)\) всевозможными перестановками координат;</li>
  <li>или многогранник Ньютона вандермондовского детерминанта \(\det (x_i^{j-1})_{i,j=1}^n\);</li>
  <li>или сумма Минковского рёбер симплекса \(\{(x_1, \ldots, x_n) \in \mathbb{R}^{n} ~\vert~ x_i \ge 0, \sum x_i = 1\}\);</li>
  <li>или ячейка Вороного решётки \(A_{n-1}^*\) (см. задачи).</li>
</ul>

<p><img src="/mipt2023systolic/images/amanha.jpg" alt="Систолы и диастолы" title="Фото: А. Балицкий" /></p>

<blockquote>
  <p><strong>Теорема.</strong> \((n-1)\)-мерный объём \(P_{n-1}\) равен \(n^{n-3/2}\).</p>
</blockquote>

<p><em>Набросок доказательства.</em>
Пермутоэдр является <em>графическим зонотопом</em>, то есть он представим в виде суммы Минковского
\[
Z_G = \sum\limits_{(i,j) \in E(G)} [e_i, e_j],
\]
где \(G\) — клика на \(n\) вершинах. Зонотоп можно разрезать на параллелепипеды, которые представляют собой суммы Минковского \((n-1)\) рёбер, не лежащих в одной гиперплоскости. В нашем случае все они имеют объём \(\sqrt{n}\). Параллелепипеды разбиения графического зонотопа отождествляются с остовными деревьями в \(G\), а в клике их \(n^{n-2}\), что легко вывести из матричной теоремы Кирхгофа.
\(\square\)</p>

<h2 id="cсылки-1">—Cсылки—</h2>
<ul>
  <li>A. Postnikov, <a href="https://academic.oup.com/imrn/article-pdf/2009/6/1026/18937162/rnn153.pdf">Permutohedra, associahedra, and beyond</a>. <em>International Mathematics Research Notices</em> (2009).</li>
  <li>А. Айзенберг, <a href="https://www.mccme.ru/dubna/2018/notes/ayzenberg-notes.pdf">Пространства матриц и выпуклые многогранники</a>.</li>
</ul>

<p>预计难度：CF Div2-</p>

<p><a href="https://github.com/wu-kan/SYSU-Collegiate-Programming-Contest-2020--Online">题目数据&amp;现场榜单</a></p>

<h2 id="welcome-to-sysu">Welcome to SYSU</h2>

<p>Sun Yat-sen University, originally known as National Guangdong University, was founded in 1924 by Dr. Sun Yat-sen (also called Sun Zhongshan), a great democratic revolutionary leader of the 20th century. The University is located in Guangdong Province, an area neighboring Hong Kong and Macao, which is at the forefront of China’s reform and opening up.</p>

<p><img src="https://i.loli.net/2020/11/14/cPQZhbFO3xgnYUd.jpg" alt="welcome" /></p>

<p>Being one of the leading universities in the People’s Republic of China, Sun Yat-sen University is a comprehensive multi-disciplinary university, including the humanities, social sciences, natural sciences, technical sciences, medical sciences, pharmacology, and management science. At present, Sun Yat-sen University covers a total area of 6.17 square kilometers and has 4 campuses: Guangzhou South Campus, Guangzhou North Campus, Guangzhou East Campus, and Zhuhai Campus.</p>

<h3 id="input">Input</h3>

<p>The input contains a positive integers n.</p>

<p>$1\le n\le 12$</p>

<h3 id="output">output</h3>

<p>You should output the lexicographically N-th string with the same letters(2*<code class="language-plaintext highlighter-rouge">S</code>+1*<code class="language-plaintext highlighter-rouge">Y</code>+1*<code class="language-plaintext highlighter-rouge">U</code>) as <code class="language-plaintext highlighter-rouge">SYSU</code>.</p>

<h3 id="sample-input-1">Sample Input 1</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
</code></pre></div></div>

<h3 id="sample-output-1">Sample Output 1</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SSUY
</code></pre></div></div>

<h3 id="sample-input-2">Sample Input 2</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5
</code></pre></div></div>

<h3 id="sample-output-2">Sample Output 2</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYSU
</code></pre></div></div>

<h3 id="source">Source</h3>

<p>吴坎</p>

<h3 id="solution">Solution</h3>

<p>题目大意：输出与 <code class="language-plaintext highlighter-rouge">SYSU</code> 字母相同的字典序第 $n$ 小的串。</p>

<p>熟悉 STL 的同学可以直接使用 <code class="language-plaintext highlighter-rouge">next_permutation</code> 解决.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">string</span> <span class="n">s</span><span class="p">(</span><span class="s">"SYSU"</span><span class="p">);</span>
	<span class="n">sort</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="o">--</span><span class="n">n</span><span class="p">;)</span>
		<span class="n">next_permutation</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div></div>

<p>不熟的同学直接手算然后打表也是可以的啦~</p>

<p><img src="https://i.loli.net/2020/11/14/fRLtgH9M13ZWxId.png" alt="~~第一题の神~~" /></p>

<p><del>欢迎报考中山大学！</del></p>

<h2 id="formula">Formula</h2>

<p>This formula is written as an equation about the length of edges A, B and C, which is usually called Pythagorean law.</p>

<p>$A^2 + B^2 = C^2$</p>

<p>Where $C$ is the length of the slanted side and $A$ and $B$ are the lengths of the other two sides.</p>

<p>Given $n$, you need to compute right triangles with side lengths $A$, $B$ and $C$ satisfying inequality $1 \le A \le B \le C \le n$.</p>

<h3 id="input-1">Input</h3>

<p>The first line of input contains an integer $n~(1\leq n\leq 10000)$.</p>

<h3 id="output-1">Output</h3>

<p>The first line of input contains an integer donating the answer.</p>

<h3 id="sample-input">Sample Input</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5
</code></pre></div></div>

<h3 id="sample-output">Sample Output</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
</code></pre></div></div>

<h3 id="note">Note</h3>

<p>3, 4, 5</p>

<h3 id="source-1">Source</h3>

<p>范俭豪</p>

<h3 id="solution-1">Solution</h3>

<p>暴力枚举 a，b 即可。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">a</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">b</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="kt">double</span> <span class="n">cc</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="n">b</span><span class="p">);</span>
			<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">cc</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">b</span> <span class="o">&lt;=</span> <span class="n">c</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">==</span> <span class="n">cc</span><span class="p">)</span>
				<span class="o">++</span><span class="n">ans</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><del>如果担心时间被卡的话打表也是毫无问题的。</del></p>

<h2 id="island">Island</h2>

<p>A tour group is trapped on an island. The island can be regarded as a matrix of equal side length.</p>

<p>Each grid is either an obstacle (character <code class="language-plaintext highlighter-rouge">#</code>), a tourist (character <code class="language-plaintext highlighter-rouge">O</code>), or an open space (character <code class="language-plaintext highlighter-rouge">.</code>), visitors can walk up, down, left, right(to neighboring grid), but can’t walk over obstacles.</p>

<p>Ask how many tourists can never get out of the island.</p>

<h3 id="input-2">Input</h3>

<p>First line of the input is an integer $T$($1\le T \le 10$) indicating the number of test cases.</p>

<p>For each case, the first line contains an integer $n$ ($1\le n \le 50$) indicating the side length of island, each of the following $n$ lines contains a string with exact n charactors(obstacle <code class="language-plaintext highlighter-rouge">#</code>, tourist <code class="language-plaintext highlighter-rouge">O</code> or space <code class="language-plaintext highlighter-rouge">.</code>).</p>

<h3 id="output-2">Output</h3>

<p>For each case output one integer per line, the number of tourist(s) cannot get out of the island.</p>

<h3 id="sample-input-1">Sample Input</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
4
O.##
.#O#
<span class="c">#O.#</span>
.###
</code></pre></div></div>

<h3 id="sample-output-1">Sample Output</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2
</code></pre></div></div>

<h3 id="source-2">Source</h3>

<p>梁赛波</p>

<h3 id="solution-2">Solution</h3>

<p>题目大意：给定一个 $n\times n$ 矩阵，每个点要么是游客，要么是空地，要么是障碍物，每个人每次可以朝上下左右任一方向走一格，问有多少人最终可以走出矩阵。</p>

<p>暴力的做法是，每个游客分别以他初始位置为起点，搜索（BFS/DFS）出到达矩阵之外的路径，时间复杂度 $O(Tn^4)$</p>

<p>可以发现如果某个格子可以最终走出矩阵，那么所有路过该格子的人都可以最终走出矩阵。</p>

<p>上述搜索过程一旦走到<strong>最终可以逃出</strong>的格子，就可以立即返回。每个格子只会被遍历一次，时间复杂度 $O(Tn^2)$。</p>

<p>同样的时间复杂度，也可以从矩阵的非障碍边界开始向内搜索，能到达的游客格子肯定可以沿着相反的路逃出去。</p>

<!--  -->

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">dir</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">}};</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span> <span class="o">=</span> <span class="mi">105</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">a</span><span class="p">[</span><span class="n">maxn</span><span class="p">][</span><span class="n">maxn</span><span class="p">];</span>
<span class="kt">bool</span> <span class="n">vis</span><span class="p">[</span><span class="n">maxn</span><span class="p">][</span><span class="n">maxn</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">_</span><span class="p">;</span>
	<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">_</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">_</span><span class="o">--</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
		<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
		<span class="n">memset</span><span class="p">(</span><span class="n">vis</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">vis</span><span class="p">));</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
			<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">((</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">i</span> <span class="o">==</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'#'</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
					<span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
		<span class="p">{</span>
			<span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
			<span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">it</span><span class="p">.</span><span class="n">first</span> <span class="o">+</span> <span class="n">dir</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">it</span><span class="p">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">dir</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">r</span> <span class="o">&gt;=</span> <span class="n">n</span> <span class="o">||</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">c</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">)</span>
					<span class="k">continue</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">vis</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">||</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'#'</span><span class="p">)</span>
					<span class="k">continue</span><span class="p">;</span>
				<span class="n">vis</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
				<span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span>
					<span class="n">ans</span><span class="o">++</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<!--  -->

<h2 id="liz-and-the-blue-bird">Liz and the Blue Bird</h2>

<p>After a long thought, Liz made a tough decision. When the girl came back home from picking raspberries with delight. Liz said goodbye to the girl with smile. A basket of raspberries dropped, scattering on the floor. “You are ought to be free and use your lightsome wings to fly to everywhere you want.” “Why? I just want to stay with you forever. Only by your side can I taste the sweet of happiness.” “I am the cage that traps you. You have wings and vast sky to explore. I can’t deprive you of your wings,” Liz opened the door, smiling mildly. “So just leave here and fly high. Please let me watch your beautiful figure go away,” Liz held out her hand, “That’s the way I convey my feelings.” She paused and took a deep breath “I love you.” The girl sobbed, stepped slowly towards door. She looked back, with love, with unwillingness, and turned into a blue bird, flying away.</p>

<p><a href="https://twitter.com/Lyytoaoitori/status/1073908097414946817"><img src="https://i.loli.net/2020/11/11/WCUM8ndNwVtAl6h.jpg" alt="bluebird" /></a></p>

<p>After the blue bird flew away, Liz still missed her very much. Worrying that she and other small animals might be caught in a storm again, Liz decided to transplant trees in the woods to cover as much area as possible. There were $n$ trees in the woods, and each tree $T_i$ can be represented as a closed interval $[a_i,b_i]$. Liz wanted to find a solution so that all intervals covered $[0,10000]$, and the displacement of the interval with the largest displacement was minimized. Specifically, suppose $T_i$ was moved to $[a_i+c_i, b_i+c_i]$, and Liz wanted to minimize $\max_i\lvert c_i \rvert$.</p>

<h3 id="input-3">Input</h3>

<p>First line of the input is an integer $n$ indicating the number of trees.</p>

<p>The following $n$ lines, each line contains 2 integers $a_i,b_i$.</p>

<p>$1&lt;n&lt;10000, 0\le a_i&lt;b_i\le 10000, \sum_{i=1}^n(b_i-a_i)\ge 10000$</p>

<h3 id="output-3">Output</h3>

<p>Output a real number that represents the answer.</p>

<p>If the answer is an integer, output the integer directly; otherwise, keep 1 decimal place.</p>

<p>If you still have any questions, you can refer to the sample output.</p>

<h3 id="sample-input-1-1">Sample Input 1</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2
10 5010
4980 9980
</code></pre></div></div>

<h3 id="sample-output-1-1">Sample Output 1</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20
</code></pre></div></div>

<h3 id="sample-input-2-1">Sample Input 2</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4
0 4000
3000 5000
5001 8000
7000 10000
</code></pre></div></div>

<h3 id="sample-output-2-1">Sample Output 2</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.5
</code></pre></div></div>

<h3 id="note-1">Note</h3>

<p>The answer must be a semi-integer, that is, twice the number must be an integer.</p>

<h3 id="source-3">Source</h3>

<p>吴坎</p>

<h3 id="solution-3">Solution</h3>

<p>二分答案 $\Delta$，然后判断是否有移动方案使得所有区间的移动量都不超过 $\Delta$。令 $[S,T]=[0,10000]$ 表示我们要覆盖的区域，当 $\Delta$ 已经给定时，可以使用如下贪心算法。</p>

<ul>
  <li>初始化 $A=S$。（注：算法运行过程中保证 $[S,A]$ 已经被覆盖）</li>
  <li>While $A&lt;T$
    <ol>
      <li>假定当前未被使用过的区间为 $D_1,\dots,D_K$。</li>
      <li>在这些区间中找一个在 $[-\Delta,+ \Delta]$ 这个移动量内能 cover 点 A 的区间出来。如果有多个这样的区间，则选其中右端点最小的那一个。</li>
      <li>不妨假定 $D_1$ 是所选的区间。那么，我们使用 $D_1$ 来覆盖 $A$。具体做法为：移动 $D_1$ 使得在保证 $A$ 点被它覆盖的前提下移动后的位置越靠右越好！</li>
      <li>把区间 $D_1$ 标记为已使用过并且更新 $A$ 为 $D_1$ 移动后的右坐标。</li>
    </ol>
  </li>
</ul>

<p>算法正确性证明思路如下。假定在某个状态下存在对未使用区间的一个放法（记作 $\text{SOL}$）去覆盖 $[A,T]$ 这个区域，那么按上述贪心标准运行下去也一定能找到一个放法去覆盖 $[A,T]$ 这个区域。使用归纳法证明这个结论。显然上述命题对 $K=1$ 是成立的，下面考虑 $K&gt;1$的情况。</p>

<p>假定 $D_1$ 是根据贪心算法选择的那个区间。如果 $\text{SOL}$ 中 $D_1$ 被放置的位置能 cover 住 $A$。那么很明显结论是正确的。因此，我们假定 $\text{SOL}$ 用了另一个区间，例如 $D_2$，来 cover 点 $A$。不妨假定 $D_2$ 在 $\text{SOL}$ 中被移动到了尽量靠右的位置。否则可以调整 SOL。假设 $D_2$ 在 $\text{SOL}$ 中移动后的右坐标为 $A’$。分两种情况讨论：</p>

<ol>
  <li>$D_1$ 移动后不能够覆盖 $A’$。那么 $D_1$ 在 $\text{SOL}$ 中实际上是没有用的！因此我们先用 $D_1$ 去覆盖 A 并不会错失一个解。</li>
  <li>$D_1$ 移动后能够覆盖 $A’$。此时，通过归纳假设，我们知道存在一个解 $\text{SOL’}$。使得在下一步中我们选定 $D_1$ 去覆盖 $A’$。这时，我们能够看到（这里请读者自己画图验证），通过调整 $\text{SOL’}$ ——将 $D_1$ 左移而将 $D_2$ 右移——能使得这两个区间仍然覆盖住 $[A,A’]$ 的前提下，$D_1$ 覆盖了点 $A$。</li>
</ol>

<p>根据以上两种情况我们知道，有解的情况下我们的贪心标准也能找到一个解。算法的正确性得证。</p>

<p>根据算法流程，给定 $\Delta$，很容易在 $O(n^2)$ 的时间内实现判定，不过这会超时。利用堆这一数据结构，我们可以将算法的效率提升到 $O(n\log n)$。将未使用的区间分为三类：</p>

<ul>
  <li>Born：它的左端点 $&gt;A+\Delta$。</li>
  <li>Active：它与区间 $[A-\Delta,A+ \Delta]$ 有相交。也就是通过移动后它能覆盖 A 点。</li>
  <li>Dead：它的右断点 $&lt;A-\Delta$。</li>
</ul>

<p>由于算法过程中 A 是不断变大的。所以 Dead 的区间永远是 Dead 的。为实现我们的算法，只需一个最小堆来维护 Active 的区间，Key 为区间的右端点。</p>

<p>参考：Danny Z. Chen Yan Gu Jian Li Haitao Wang, Algorithms on Minimizing the Maximum Sensor Movement for Barrier Coverage of a Linear Domain</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mf">1e4</span> <span class="o">+</span> <span class="mi">9</span><span class="p">,</span> <span class="n">M</span> <span class="o">=</span> <span class="mf">1e4</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">EPS</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">;</span>
<span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">ok</span><span class="p">(</span><span class="kt">double</span> <span class="n">delta</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">double</span> <span class="n">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">A</span> <span class="o">&lt;</span> <span class="n">M</span> <span class="o">-</span> <span class="n">EPS</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span> <span class="o">&lt;=</span> <span class="n">A</span> <span class="o">+</span> <span class="n">delta</span> <span class="o">+</span> <span class="n">EPS</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="o">-</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span><span class="p">,</span> <span class="n">i</span><span class="p">});</span>
		<span class="kt">int</span> <span class="n">updated</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">;</span> <span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">updated</span><span class="p">;</span> <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">())</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">x</span><span class="p">].</span><span class="n">first</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">x</span><span class="p">].</span><span class="n">second</span><span class="p">,</span>
				<span class="n">A</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">delta</span> <span class="o">+</span> <span class="n">EPS</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">A</span> <span class="o">&gt;</span> <span class="n">l</span> <span class="o">+</span> <span class="n">delta</span><span class="p">)</span>
					<span class="n">A</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">delta</span><span class="p">;</span>
				<span class="k">else</span>
					<span class="n">A</span> <span class="o">+=</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">;</span>
				<span class="n">updated</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">updated</span><span class="p">)</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">bs</span><span class="p">(</span><span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">e</span> <span class="o">-</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">e</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="n">e</span> <span class="o">-</span> <span class="n">b</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ok</span><span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">?</span> <span class="n">bs</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">:</span> <span class="n">bs</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">e</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span><span class="p">);</span>
	<span class="n">sort</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span> <span class="o">+</span> <span class="n">n</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">bs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">M</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">ans</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ans</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">".5"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>完整的背景故事可见 <a href="https://www.bilibili.com/read/cv7276984">https://www.bilibili.com/read/cv7276984</a> ，此处已获得原作者的使用许可。</p>

<p><img src="https://i.loli.net/2020/11/11/wQPsCh9TSRqfaVH.png" alt="使用许可" /></p>

<p><del>强推一波利兹与青鸟，官方在国内开通了<a href="https://weibo.com/u/7479642080">微博</a>，不过感觉离上映还遥遥无期的样子…</del></p>

<h2 id="berth-allocation">Berth Allocation</h2>

<p>In a container terminal, the bottleneck of the traffic is often at the quay. Therefore, the terminal operator has to allocate a limited number of berths of the quay to vessels in an efficient way.</p>

<p><img src="https://i.loli.net/2020/11/11/EpjJgw6evXlaMsd.png" alt="berth" /></p>

<p>As illustrate in Figure above (An illustrated example, with a quay of $n=5$ berths, $m=7$ vessels, where two vessels are waiting outside the quay), consider a container terminal of $n$ berths and $m$ vessels arrived, where each vessel $i$ (for $i=1,2,\dots,m$) requires a berth to load and unload containers, and the handling time is $t_{i,j}$ minutes if berth $j$ (for $j=1, 2, \dots, n$) is allocated to vessel $i$. For each vessel $i=1,2,\dots,m$, the terminal manager, Brother D, needs to decide on the berth, denoted by $b_i\in\lbrace 1,2,\dots,n\rbrace $, as well on the starting time of berthing, denoted by $s_i\ge 0$. It must be satisfied that no two vessels are allowed to occupy the same berth simultaneously, i.e., for any two different vessels i and j, if $b_i=b_j$, then either $s_i+t_{i,b_i}\le s_j$ or $s_j+t_{j,b_j}\le s_i$ must be satisfied. Your task is to help Brother D to minimize the total completion time of the vessels, i.e., to minimize $\sum_{i=1}^m(s_i+t_{i,b_i})$.</p>

<h3 id="input-4">Input</h3>

<p>First line of the input is an integer $T$ indicating the number of test cases. For each case, the first line contains two integers $n$ and $m$ (for $1\le n\le 50, 1\le m\le 200$). Each of the following $m$ lines contains $n$ positive integers representing vessel i’s handling times $t_{i,1}, t_{i,2}, \dots, t_{i,n} (t_{i,j} \le 1000)$.</p>

<h3 id="output-4">Output</h3>

<p>For each case, output one integer, the minimum total weighted completion time of all the vessels.</p>

<h3 id="sample-input-2">Sample Input</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
5 7
1 2 3 4 5
2 1 3 4 5
2 3 1 4 5
2 3 4 1 5
2 3 4 5 1
2 2 2 2 2
2 2 2 2 2
</code></pre></div></div>

<h3 id="sample-output-2">Sample Output</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>11
</code></pre></div></div>

<h3 id="source-4">Source</h3>

<p>吴坎</p>

<h3 id="solution-4">Solution</h3>

<p><strong>菜鸡命题人背锅了…PDF Input 结尾处应该是 $t_{i,n}$ 不是 $t_{i,m}$，此问题间接导致我校一队没有 AK…</strong></p>

<p>题目大意：$n$ 个卸货点，$m$ 条船，船 $i$ 在卸货点 $j$ 卸货的时间是 $t_{i,j}$，同一时刻一个卸货点只能有一条船，现在每条船都要卸货，要最小化 $\sum_{i=1}^m\left(s_i+t_{i,b_i}\right)$，其中船 $i$ 在 $s_i$ 时刻开始在 $b_i$ 卸货点卸货。</p>

<p>容易看出，$s_i$ 一定是若干个 $t_{a,b}$ 的和。因此直接考虑每个 $t_{a,b}$ 对答案的贡献，<strong>不难</strong><del>口可口可</del>想出一个费用流模型：</p>

<ol>
  <li>建立超级源点 $S$ 、超级汇点 $T$</li>
  <li>对于每条船建点 $P_i$，并连边 $P_i\to T$，边长 $0$ 容量 $1$</li>
  <li>对于每个卸货点建点 $Q_j$，并连边 $S\to Q_j$，边长 $0$ 容量 $\infty$</li>
  <li>对于每个卸货点 $j$ 和对答案的贡献数 $k$ 建点 $R_{j,k}$
    <ul>
      <li>连边 $Q_j\to R_{j,k}$，边长 $0$ 容量 $1$</li>
      <li>对于每条船 $i$ 连边 $R_{j,k}\to P_i$，边长 $k\times t_{i,j}$ 容量 $1$</li>
    </ul>
  </li>
</ol>

<p>如果你对这个建图方式仍然有疑问，可以看一下这个简单的样例。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
1 2
7
10
</code></pre></div></div>

<p>对应的建图方式如下（图中边上的数据是“边长，容量”的格式，费用 = 边长 * 流量），容易看出这张图的最小费用是 24，也是最后的答案。</p>

<pre><code class="language-mermaid">flowchart LR
S--"0,#infin;"--&gt;Q1
Q1--0,1--&gt;R1,1
Q1--0,1--&gt;R1,2
R1,1-.7,1.-&gt;P1
R1,1--10,1--&gt;P2
R1,2--14,1--&gt;P1
R1,2-.20,1.-&gt;P2
P1--0,1--&gt;T
P2--0,1--&gt;T
</code></pre>

<p>由于 $\lvert R\rvert \le 50\times 200=10000$，上述方案时间复杂度难以接受。于是考虑在跑费用流的时候动态建图，一边增广一边扩 $R$ 集合的点，直到汇点的流量达到 $n$。由于每次找到的增广路一定符合 $S\to Q\to R\to P\to T$ 的形式，此时对于这条路上的 $Q$ 点就可以扩张新的一层 $R$ 点，与在完整图上跑费用流在效果上是等价的。</p>

<p>以下是我自己写的标程，用了<a href="https://wu-kan.cn/_posts/2019-02-02-%E5%9B%BE%E8%AE%BA/#primaldual-%E6%B1%82%E8%B4%B9%E7%94%A8%E6%B5%81">单路增广的 PD</a>，比 EK 算法快三倍左右（0.740s：0.219s）。由于本题动态扩图的特性，可能不太适合多路增广的费用流算法，感兴趣的同学可以自己尝试一下。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">int</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="n">ll</span> <span class="n">INF</span> <span class="o">=</span> <span class="mf">1e9</span><span class="p">,</span> <span class="n">M</span> <span class="o">=</span> <span class="mi">255</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">63</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">tim</span><span class="p">[</span><span class="n">M</span><span class="p">][</span><span class="n">N</span><span class="p">];</span>
<span class="k">struct</span> <span class="nc">Graph</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="nc">Vertex</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">o</span><span class="p">;</span>
	<span class="p">};</span>
	<span class="k">struct</span> <span class="nc">Edge</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">;</span>
		<span class="n">ll</span> <span class="n">len</span><span class="p">,</span> <span class="n">cap</span><span class="p">;</span>
	<span class="p">};</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Vertex</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span> <span class="n">e</span><span class="p">;</span>
	<span class="n">Graph</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="o">:</span> <span class="n">v</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{}</span>
	<span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Edge</span> <span class="o">&amp;</span><span class="n">ed</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">v</span><span class="p">[</span><span class="n">ed</span><span class="p">.</span><span class="n">first</span><span class="p">].</span><span class="n">o</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
		<span class="n">e</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ed</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="nc">PrimalDual</span> <span class="o">:</span> <span class="n">Graph</span>
<span class="p">{</span>
	<span class="n">ll</span> <span class="n">flow</span><span class="p">,</span> <span class="n">cost</span><span class="p">;</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">;</span>
	<span class="n">PrimalDual</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="o">:</span> <span class="n">Graph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{}</span>
	<span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="n">Edge</span> <span class="n">ed</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Graph</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="n">ed</span><span class="p">);</span>
		<span class="n">swap</span><span class="p">(</span><span class="n">ed</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">ed</span><span class="p">.</span><span class="n">second</span><span class="p">),</span> <span class="n">ed</span><span class="p">.</span><span class="n">cap</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ed</span><span class="p">.</span><span class="n">len</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">Graph</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="n">ed</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="kt">void</span> <span class="n">ask</span><span class="p">(</span><span class="kt">int</span> <span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">now</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">INF</span><span class="p">),</span> <span class="n">h</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">flow</span> <span class="o">=</span> <span class="n">cost</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);;)</span>
		<span class="p">{</span>
			<span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">));</span> <span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">();)</span>
			<span class="p">{</span>
				<span class="n">ll</span> <span class="n">dis</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">first</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">(),</span> <span class="n">d</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dis</span><span class="p">)</span>
					<span class="k">continue</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">to</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">o</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
					<span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">o</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">to</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">second</span><span class="p">,</span>
						<span class="n">e</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">cap</span> <span class="o">&gt;</span> <span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">d</span><span class="p">[</span><span class="n">to</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">d</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">e</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">len</span> <span class="o">+</span> <span class="n">h</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">-</span> <span class="n">h</span><span class="p">[</span><span class="n">to</span><span class="p">])</span>
					<span class="p">{</span>
						<span class="n">d</span><span class="p">[</span><span class="n">to</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">e</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">len</span> <span class="o">+</span> <span class="n">h</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">-</span> <span class="n">h</span><span class="p">[</span><span class="n">to</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="n">to</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
						<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">[</span><span class="n">to</span><span class="p">],</span> <span class="n">to</span><span class="p">));</span>
					<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="n">INF</span><span class="p">)</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">d</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">INF</span><span class="p">)</span>
					<span class="n">h</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
			<span class="n">ll</span> <span class="n">_f</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">s</span><span class="p">;</span> <span class="n">u</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]].</span><span class="n">first</span><span class="p">)</span>
				<span class="n">_f</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">_f</span><span class="p">,</span> <span class="n">e</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]].</span><span class="n">cap</span> <span class="o">-</span> <span class="n">f</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]]);</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">s</span><span class="p">;</span> <span class="n">u</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]].</span><span class="n">first</span><span class="p">)</span>
				<span class="n">cost</span> <span class="o">+=</span> <span class="n">_f</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]].</span><span class="n">len</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]]</span> <span class="o">+=</span> <span class="n">_f</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">^</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">_f</span><span class="p">;</span>
			<span class="n">flow</span> <span class="o">+=</span> <span class="n">_f</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">s</span><span class="p">;</span> <span class="n">u</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">u</span><span class="p">]].</span><span class="n">first</span><span class="p">)</span>
				<span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">u</span> <span class="o">&amp;&amp;</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">u</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>
					<span class="o">++</span><span class="n">now</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
					<span class="n">p</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
					<span class="n">d</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">INF</span><span class="p">);</span>
					<span class="n">h</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
					<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Vertex</span><span class="p">());</span>
					<span class="n">add</span><span class="p">({</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
					<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
						<span class="n">add</span><span class="p">({</span><span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">now</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">tim</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="mi">1</span><span class="p">});</span>
					<span class="n">f</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;)</span>
	<span class="p">{</span>
		<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">);</span>
		<span class="n">PrimalDual</span> <span class="n">g</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">INF</span><span class="p">});</span>
			<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">({</span><span class="mi">2</span> <span class="o">+</span> <span class="n">j</span><span class="p">,</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">+</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
		<span class="p">}</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tim</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
				<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">({</span><span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span> <span class="o">+</span> <span class="n">j</span><span class="p">,</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">tim</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="mi">1</span><span class="p">});</span>
			<span class="p">}</span>
			<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">({</span><span class="mi">2</span> <span class="o">+</span> <span class="n">n</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
		<span class="p">}</span>
		<span class="n">g</span><span class="p">.</span><span class="n">ask</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">g</span><span class="p">.</span><span class="n">cost</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><del><a href="https://blog.csdn.net/D5__J9">D 哥</a>带带我</del></p>
:ET